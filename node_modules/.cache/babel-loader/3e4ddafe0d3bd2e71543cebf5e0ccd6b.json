{"ast":null,"code":"var _jsxFileName = \"/Users/shabeerhussain/ironhack/labs/proj3/client/src/components/bookings.js\";\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\n\nclass Bookings extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      orders: [],\n      user: localStorage.getItem('user')\n    };\n  }\n\n  componentDidMount() {\n    const user = JSON.parse(this.state.user);\n    fetch(`http://localhost:3001/orders/${user.user._id}/${user.user.userType}`).then(data => data.json()).then(data => {\n      this.setState({ ...this.state,\n        orders: data\n      });\n    });\n  }\n\n  render() {\n    const {\n      orders\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-link\",\n      onClick: () => this.props.history.push('/main'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 20\n      }\n    }, \"Back\")), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 17\n      }\n    }, \"Orders\"), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table table-bordered\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 26\n      }\n    }, \"Booked by\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 25\n      }\n    }, \"Total Amount\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 25\n      }\n    }, \"Items\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 25\n      }\n    }, \"Status\")), orders.map(order => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 33\n        }\n      }, order.user_id.email), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 33\n        }\n      }, order.total), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 29\n        }\n      }, order.items.map(item => {\n        return /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 49\n          }\n        }, item.name, \" , \", item.price);\n      })), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 33\n        }\n      }, order.status == '1' ? 'Processing' : ''));\n    })));\n  }\n\n}\n\nexport default withRouter(Bookings);","map":{"version":3,"sources":["/Users/shabeerhussain/ironhack/labs/proj3/client/src/components/bookings.js"],"names":["React","Component","withRouter","Bookings","constructor","props","state","orders","user","localStorage","getItem","componentDidMount","JSON","parse","fetch","_id","userType","then","data","json","setState","render","history","push","map","order","user_id","email","total","items","item","name","price","status"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAAUC,UAAV,QAA4B,kBAA5B;;AAGA,MAAMC,QAAN,SAAuBF,SAAvB,CAAiC;AAI7BG,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AADc,SAHlBC,KAGkB,GAHV;AAAEC,MAAAA,MAAM,EAAE,EAAV;AAAaC,MAAAA,IAAI,EAACC,YAAY,CAACC,OAAb,CAAqB,MAArB;AAAlB,KAGU;AAGjB;;AAEDC,EAAAA,iBAAiB,GAAG;AAChB,UAAMH,IAAI,GAAGI,IAAI,CAACC,KAAL,CAAW,KAAKP,KAAL,CAAWE,IAAtB,CAAb;AACNM,IAAAA,KAAK,CAAE,gCAA+BN,IAAI,CAACA,IAAL,CAAUO,GAAI,IAAGP,IAAI,CAACA,IAAL,CAAUQ,QAAS,EAArE,CAAL,CACEC,IADF,CACQC,IAAD,IAAUA,IAAI,CAACC,IAAL,EADjB,EAEWF,IAFX,CAEiBC,IAAD,IAAU;AAAC,WAAKE,QAAL,CAAc,EAAE,GAAG,KAAKd,KAAV;AAAiBC,QAAAA,MAAM,EAAEW;AAAzB,OAAd;AAEpB,KAJP;AAMG;;AAEDG,EAAAA,MAAM,GAAG;AACL,UAAM;AACXd,MAAAA;AADW,QAEF,KAAKD,KAFT;AAGA,wBACI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAG;AAAQ,MAAA,SAAS,EAAC,cAAlB;AAAiC,MAAA,OAAO,EAAE,MAAI,KAAKD,KAAL,CAAWiB,OAAX,CAAmBC,IAAnB,CAAwB,OAAxB,CAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAH,CAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHJ,eAII;AAAO,MAAA,SAAS,EAAC,sBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBADL,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAHJ,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJJ,CADJ,EAQQhB,MAAM,CAACiB,GAAP,CAAWC,KAAK,IAAE;AACd,0BAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKA,KAAK,CAACC,OAAN,CAAcC,KAAnB,CADI,eAEJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKF,KAAK,CAACG,KAAX,CAFI,eAGR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACQH,KAAK,CAACI,KAAN,CAAYL,GAAZ,CAAgBM,IAAI,IAAE;AAClB,4BAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAIA,IAAI,CAACC,IAAT,SAAkBD,IAAI,CAACE,KAAvB,CAAR;AACH,OAFD,CADR,CAHQ,eAQJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKP,KAAK,CAACQ,MAAN,IAAc,GAAd,GAAkB,YAAlB,GAA+B,EAApC,CARI,CAAR;AAWH,KAZD,CARR,CAJJ,CADJ;AA8BH;;AArD4B;;AAyDjC,eAAe/B,UAAU,CAACC,QAAD,CAAzB","sourcesContent":["import React, { Component } from 'react'\r\nimport  { withRouter } from 'react-router-dom'\r\n\r\n\r\nclass Bookings extends Component {\r\n    state = { orders: [],user:localStorage.getItem('user')};\r\n   \r\n  \r\n    constructor(props){\r\n        super(props);\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        const user = JSON.parse(this.state.user);\r\n\t\tfetch(`http://localhost:3001/orders/${user.user._id}/${user.user.userType}`)\r\n\t\t\t.then((data) => data.json())\r\n            .then((data) => {this.setState({ ...this.state, orders: data });\r\n           \r\n        });\r\n           \r\n    }\r\n    \r\n    render() {\r\n        const {\r\n\t\t\torders\r\n        } = this.state;\r\n        return (\r\n            <div className=\"container\">\r\n                \r\n                <p><button className=\"btn btn-link\" onClick={()=>this.props.history.push('/main')}>Back</button></p>\r\n                <h1>Orders</h1>\r\n                <table className=\"table table-bordered\">\r\n                    <tr>\r\n                         <td>Booked by</td>\r\n                        <td>Total Amount</td>\r\n                        <td>Items</td>\r\n                        <td>Status</td>\r\n                    </tr>\r\n                    {\r\n                        orders.map(order=>{\r\n                            return (<tr>\r\n                                <td>{order.user_id.email}</td>\r\n                                <td>{order.total}</td>\r\n                            <td>{\r\n                                    order.items.map(item=>{\r\n                                        return (<p>{item.name} , {item.price}</p>)\r\n                                    })\r\n                                }</td>\r\n                                <td>{order.status=='1'?'Processing':''}</td>\r\n                                \r\n                            </tr>)\r\n                        })\r\n                    }\r\n                </table>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default withRouter(Bookings)"]},"metadata":{},"sourceType":"module"}