{"ast":null,"code":"var _jsxFileName = \"/Users/shabeerhussain/ironhack/labs/proj3/client/src/components/bookings.js\";\nimport React, { Component } from 'react';\nimport { withRouter } from 'react-router-dom';\n\nclass Bookings extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      orders: [],\n      user: localStorage.getItem('user')\n    };\n  }\n\n  componentDidMount() {\n    console.log(this.state);\n    fetch(`http://localhost:3001/orders/${this.state.user.user._id}/${this.state.user.user.user_type}`).then(data => data.json()).then(data => {\n      this.setState({ ...this.state,\n        orders: data\n      });\n    });\n  }\n\n  render() {\n    const {\n      orders\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 17\n      }\n    }, \"Orders\"), /*#__PURE__*/React.createElement(\"table\", {\n      className: \"table table-bordered\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 25\n      }\n    }, \"Total Amount\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 25\n      }\n    }, \"Items\"), /*#__PURE__*/React.createElement(\"td\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 25\n      }\n    }, \"Status\")), orders.map(order => {\n      return /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 33\n        }\n      }, \"order.total\"), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 29\n        }\n      }, order.items.map(item => {\n        return /*#__PURE__*/React.createElement(\"p\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 49\n          }\n        }, item.name, \" , \", item.price);\n      })), /*#__PURE__*/React.createElement(\"td\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 33\n        }\n      }, order.status));\n    })));\n  }\n\n}\n\nexport default withRouter(Bookings);","map":{"version":3,"sources":["/Users/shabeerhussain/ironhack/labs/proj3/client/src/components/bookings.js"],"names":["React","Component","withRouter","Bookings","constructor","props","state","orders","user","localStorage","getItem","componentDidMount","console","log","fetch","_id","user_type","then","data","json","setState","render","map","order","items","item","name","price","status"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAAUC,UAAV,QAA4B,kBAA5B;;AAGA,MAAMC,QAAN,SAAuBF,SAAvB,CAAiC;AAI7BG,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;AADc,SAHlBC,KAGkB,GAHV;AAAEC,MAAAA,MAAM,EAAE,EAAV;AAAaC,MAAAA,IAAI,EAACC,YAAY,CAACC,OAAb,CAAqB,MAArB;AAAlB,KAGU;AAGjB;;AAEDC,EAAAA,iBAAiB,GAAG;AAChBC,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAKP,KAAjB;AACNQ,IAAAA,KAAK,CAAE,gCAA+B,KAAKR,KAAL,CAAWE,IAAX,CAAgBA,IAAhB,CAAqBO,GAAI,IAAG,KAAKT,KAAL,CAAWE,IAAX,CAAgBA,IAAhB,CAAqBQ,SAAU,EAA5F,CAAL,CACEC,IADF,CACQC,IAAD,IAAUA,IAAI,CAACC,IAAL,EADjB,EAEWF,IAFX,CAEiBC,IAAD,IAAU;AAAC,WAAKE,QAAL,CAAc,EAAE,GAAG,KAAKd,KAAV;AAAiBC,QAAAA,MAAM,EAAEW;AAAzB,OAAd;AAEpB,KAJP;AAMG;;AAEDG,EAAAA,MAAM,GAAG;AACL,UAAM;AACXd,MAAAA;AADW,QAEF,KAAKD,KAFT;AAGA,wBACI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAO,MAAA,SAAS,EAAC,sBAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,eAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHJ,CADJ,EAOQC,MAAM,CAACe,GAAP,CAAWC,KAAK,IAAE;AACd,0BAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADI,eAER;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACQA,KAAK,CAACC,KAAN,CAAYF,GAAZ,CAAgBG,IAAI,IAAE;AAClB,4BAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAIA,IAAI,CAACC,IAAT,SAAkBD,IAAI,CAACE,KAAvB,CAAR;AACH,OAFD,CADR,CAFQ,eAOJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAKJ,KAAK,CAACK,MAAX,CAPI,CAAR;AASH,KAVD,CAPR,CAFJ,CADJ;AAyBH;;AAhD4B;;AAoDjC,eAAe1B,UAAU,CAACC,QAAD,CAAzB","sourcesContent":["import React, { Component } from 'react'\r\nimport  { withRouter } from 'react-router-dom'\r\n\r\n\r\nclass Bookings extends Component {\r\n    state = { orders: [],user:localStorage.getItem('user')};\r\n   \r\n  \r\n    constructor(props){\r\n        super(props);\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log(this.state)\r\n\t\tfetch(`http://localhost:3001/orders/${this.state.user.user._id}/${this.state.user.user.user_type}`)\r\n\t\t\t.then((data) => data.json())\r\n            .then((data) => {this.setState({ ...this.state, orders: data });\r\n           \r\n        });\r\n           \r\n    }\r\n    \r\n    render() {\r\n        const {\r\n\t\t\torders\r\n        } = this.state;\r\n        return (\r\n            <div className=\"container\">\r\n                <h1>Orders</h1>\r\n                <table className=\"table table-bordered\">\r\n                    <tr>\r\n                        <td>Total Amount</td>\r\n                        <td>Items</td>\r\n                        <td>Status</td>\r\n                    </tr>\r\n                    {\r\n                        orders.map(order=>{\r\n                            return (<tr>\r\n                                <td>order.total</td>\r\n                            <td>{\r\n                                    order.items.map(item=>{\r\n                                        return (<p>{item.name} , {item.price}</p>)\r\n                                    })\r\n                                }</td>\r\n                                <td>{order.status}</td>\r\n                            </tr>)\r\n                        })\r\n                    }\r\n                </table>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default withRouter(Bookings)"]},"metadata":{},"sourceType":"module"}